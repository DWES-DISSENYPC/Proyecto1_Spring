<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

     <header th:replace = "fragments/fragment-header :: cabecera"> <!-- Sustituye todo el header por el codigo del fragmento-->
    </header>

    <main>
        <div>
            <h1>Formulario de Contacto</h1>
            <p>Usa este formulario para comunicarte con nosotros.</p>

            <!-- 
                th:action="@{/formularioContacto}": Apunta a la URL de envío.
                th:object="${formContact}": Mapea este formulario a la clase FormContact del Modelo.
                method="post": Envía la información de campos sueltos al @PostMapping del controlador
                 y el se encarga de convertirlo en una instancia de FormuContact .
            -->
            <form th:action="@{/formularioContacto}" th:object="${formContact}" method="post">
                
                <!-- CAMPO: Nombre -->
                <div>
                    <label for="nombre">Nombre:</label>
                    <input 
                        type="text" 
                        id="nombre" 
                        th:field="*{nombre}" 
                        placeholder="Introduce tu nombre"
                    />
                    <!--Con th:field cojemos el dato que se introduca importante "*{...}"-->
                    <!-- Mensaje de Validación para Nombre -->
                    <p th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}"></p>
                </div>

                <!-- CAMPO: Email -->
                <div>
                    <label for="email">Email:</label>
                    <!--Si al input del email le decimos que es de tipo email lo que ya hace una alidacion antes de ser enviado
                    Pero es necesaria su validacion en el servidor tambien por si el formulario se envia por cualquier motivo sin
                    validar este aspecto.
                    Para poder comprobar que funciona la validacion en el servidor le damos type text-->
                    <input 
                        type="text" 
                        id="email" 
                        th:field="*{email}" 
                        placeholder="Introduce tu email"
                    />
                    <!-- Mensaje de Validación para Email -->
                    <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></p>
                </div>

                <!-- CAMPO: Mensaje -->
                <div>
                    <label for="mensaje">Mensaje:</label>
                    <textarea 
                        id="mensaje" 
                        th:field="*{mensaje}" 
                        rows="4"
                        placeholder="Escribe tu mensaje aquí..."
                    ></textarea>
                    <!-- Mensaje de Validación para Mensaje -->
                    <p th:if="${#fields.hasErrors('mensaje')}" th:errors="*{mensaje}" ></p>
                </div>

                <!-- Botón de Envío -->
                <div>
                    <button type="submit">Enviar Mensaje</button>
                </div>
            </form>
        </div>
    </main>
    
</body>
</html>